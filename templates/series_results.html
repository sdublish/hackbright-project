{% extends 'base.html' %}
{% block title %} Search By Author Results {% endblock %}
{% block content %}
<h1> {{ title }} </h1>
{% if series|length > 0 %}
<form action="/series-result" id="series-search" method="POST">
{% for id, name in series.items() %}
<input type="radio" value= "{{ id }}" name="series"> <span id="{{ id }}">{{ name }} </span><br>
{% endfor %}
<input type="submit" name="Look up series">
</form>
<p> None of these are right? Click <a href="/adv-search">here</a> to go back to the advanced search form. </p>
{% else %}
<p> No series were found. Please click <a href="/adv-search">here</a> to return back to advanced search </p>
{% endif %}

 <script>
    function showResults(result){
        console.log(result);
    }
function searchSeries(evt){
    evt.preventDefault();
    let seriesID = $('input[name=series]:checked').val();
    let IDAsString = `#${seriesID}`;
    let seriesName = $(IDAsString).text();
    let formInputs = {'id': seriesID, 'name': seriesName};
    $.post("/series-result.json", formInputs, showResults);
}



$("#series-search").on("submit", searchSeries);
 </script>
 {% endblock %}