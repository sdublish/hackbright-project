{% extends 'base.html' %}
{% block title %} Search {% endblock %}
{% block content %}
<h1> Search </h1>
<!-- Thing which would be cool to do: have people tell me if they're searching by author or series 
    and modify the form to show the proper fields depending on user input -->
<!-- Use the buttons or something, things which only allow one option -->
    <!-- If it's series, go through goodreads
    If it's an author, go through Google Books, because I think that's better?
    Then submit the form and... huh. Do I need it on a different page altogether?
    Well, I need to check if preventDefault prevents the update from going back the the server
    Since I would like to update the search history in some way
    And I rather NOT code that all in the page because that feels weird
    It would be cool to make it show up dynamically though
-->
<form id="search" action="/search" method="POST">
    Author: <input type="text" name="author"><br>
    Series: <select name="series"> 
    <option selected value> -- select an option -- </option>{% for s in series %}
    <option value="{{s.series_name}}"> {{ s.series_name }} </option>
    {% endfor %}
</select>
    <!-- Something for the timeframe here. Either actual date-time or some options of how far out you want to go -->    

    <input type="Submit" value="Search">
</form>
<div id="results"> </div>
{% if "search_history" in session %}
{{ session.search_history }}
{% endif %}

<script>

$("#search").on("submit", function(evt){
    // evt.preventDefault();
    let author;
    let series;
    // need to check to see what javascript gets from an empty field

});
// Things I need to put in here:
// Check to see if at least one field is filled out
// If not, complain (if zero or two)
// if author is filled out, do an author query
// else do a series query
// and shove the results into the div land
</script>
{% endblock %}